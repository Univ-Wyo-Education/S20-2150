<style>
@font-face {
	font-family: octicons-link;
	src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
	-ms-text-size-adjust: 100%;
	-webkit-text-size-adjust: 100%;
	line-height: 1.5;
	color: #24292e;
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
	font-size: 16px;
	line-height: 1.5;
	word-wrap: break-word;
}

.markdown-body .pl-c {
	color: #6a737d;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
	color: #005cc5;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
	color: #6f42c1;
}

.markdown-body .pl-smi,
.markdown-body .pl-s .pl-s1 {
	color: #24292e;
}

.markdown-body .pl-ent {
	color: #22863a;
}

.markdown-body .pl-k {
	color: #d73a49;
}

.markdown-body .pl-s,
.markdown-body .pl-pds,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sre,
.markdown-body .pl-sr .pl-sra {
	color: #032f62;
}

.markdown-body .pl-v,
.markdown-body .pl-smw {
	color: #e36209;
}

.markdown-body .pl-bu {
	color: #b31d28;
}

.markdown-body .pl-ii {
	color: #fafbfc;
	background-color: #b31d28;
}

.markdown-body .pl-c2 {
	color: #fafbfc;
	background-color: #d73a49;
}

.markdown-body .pl-c2::before {
	content: "^M";
}

.markdown-body .pl-sr .pl-cce {
	font-weight: bold;
	color: #22863a;
}

.markdown-body .pl-ml {
	color: #735c0f;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
	font-weight: bold;
	color: #005cc5;
}

.markdown-body .pl-mi {
	font-style: italic;
	color: #24292e;
}

.markdown-body .pl-mb {
	font-weight: bold;
	color: #24292e;
}

.markdown-body .pl-md {
	color: #b31d28;
	background-color: #ffeef0;
}

.markdown-body .pl-mi1 {
	color: #22863a;
	background-color: #f0fff4;
}

.markdown-body .pl-mc {
	color: #e36209;
	background-color: #ffebda;
}

.markdown-body .pl-mi2 {
	color: #f6f8fa;
	background-color: #005cc5;
}

.markdown-body .pl-mdr {
	font-weight: bold;
	color: #6f42c1;
}

.markdown-body .pl-ba {
	color: #586069;
}

.markdown-body .pl-sg {
	color: #959da5;
}

.markdown-body .pl-corl {
	text-decoration: underline;
	color: #032f62;
}

.markdown-body .octicon {
	display: inline-block;
	vertical-align: text-top;
	fill: currentColor;
}

.markdown-body a {
	background-color: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
	outline-width: 0;
}

.markdown-body strong {
	font-weight: inherit;
}

.markdown-body strong {
	font-weight: bolder;
}

.markdown-body h1 {
	font-size: 2em;
	margin: 0.67em 0;
}

.markdown-body img {
	border-style: none;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
	font-family: monospace, monospace;
	font-size: 1em;
}

.markdown-body hr {
	box-sizing: content-box;
	height: 0;
	overflow: visible;
}

.markdown-body input {
	font: inherit;
	margin: 0;
}

.markdown-body input {
	overflow: visible;
}

.markdown-body [type="checkbox"] {
	box-sizing: border-box;
	padding: 0;
}

.markdown-body * {
	box-sizing: border-box;
}

.markdown-body input {
	font-family: inherit;
	font-size: inherit;
	line-height: inherit;
}

.markdown-body a {
	color: #0366d6;
	text-decoration: none;
}

.markdown-body a:hover {
	text-decoration: underline;
}

.markdown-body strong {
	font-weight: 600;
}

.markdown-body hr {
	height: 0;
	margin: 15px 0;
	overflow: hidden;
	background: transparent;
	border: 0;
	border-bottom: 1px solid #dfe2e5;
}

.markdown-body hr::before {
	display: table;
	content: "";
}

.markdown-body hr::after {
	display: table;
	clear: both;
	content: "";
}

.markdown-body table {
	border-spacing: 0;
	border-collapse: collapse;
}

.markdown-body td,
.markdown-body th {
	padding: 0;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
	margin-top: 0;
	margin-bottom: 0;
}

.markdown-body h1 {
	font-size: 32px;
	font-weight: 600;
}

.markdown-body h2 {
	font-size: 24px;
	font-weight: 600;
}

.markdown-body h3 {
	font-size: 20px;
	font-weight: 600;
}

.markdown-body h4 {
	font-size: 16px;
	font-weight: 600;
}

.markdown-body h5 {
	font-size: 14px;
	font-weight: 600;
}

.markdown-body h6 {
	font-size: 12px;
	font-weight: 600;
}

.markdown-body p {
	margin-top: 0;
	margin-bottom: 10px;
}

.markdown-body blockquote {
	margin: 0;
}

.markdown-body ul,
.markdown-body ol {
	padding-left: 0;
	margin-top: 0;
	margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
	x-list-style-type: lower-roman;
	  list-style-type: decimal;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
	list-style-type: lower-alpha;
}

.markdown-body dd {
	margin-left: 0;
}

.markdown-body code {
	font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
	font-size: 12px;
}

.markdown-body pre {
	margin-top: 0;
	margin-bottom: 0;
	font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
	font-size: 12px;
}

.markdown-body .octicon {
	vertical-align: text-bottom;
}

.markdown-body .pl-0 {
	padding-left: 0 !important;
}

.markdown-body .pl-1 {
	padding-left: 4px !important;
}

.markdown-body .pl-2 {
	padding-left: 8px !important;
}

.markdown-body .pl-3 {
	padding-left: 16px !important;
}

.markdown-body .pl-4 {
	padding-left: 24px !important;
}

.markdown-body .pl-5 {
	padding-left: 32px !important;
}

.markdown-body .pl-6 {
	padding-left: 40px !important;
}

.markdown-body::before {
	display: table;
	content: "";
}

.markdown-body::after {
	display: table;
	clear: both;
	content: "";
}

.markdown-body>*:first-child {
	margin-top: 0 !important;
}

.markdown-body>*:last-child {
	margin-bottom: 0 !important;
}

.markdown-body a:not([href]) {
	color: inherit;
	text-decoration: none;
}

.markdown-body .anchor {
	float: left;
	padding-right: 4px;
	margin-left: -20px;
	line-height: 1;
}

.markdown-body .anchor:focus {
	outline: none;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre {
	margin-top: 0;
	margin-bottom: 16px;
}

.markdown-body hr {
	height: 0.25em;
	padding: 0;
	margin: 24px 0;
	background-color: #e1e4e8;
	border: 0;
}

.markdown-body blockquote {
	padding: 0 1em;
	color: #6a737d;
	border-left: 0.25em solid #dfe2e5;
}

.markdown-body blockquote>:first-child {
	margin-top: 0;
}

.markdown-body blockquote>:last-child {
	margin-bottom: 0;
}

.markdown-body kbd {
	display: inline-block;
	padding: 3px 5px;
	font-size: 11px;
	line-height: 10px;
	color: #444d56;
	vertical-align: middle;
	background-color: #fafbfc;
	border: solid 1px #c6cbd1;
	border-bottom-color: #959da5;
	border-radius: 3px;
	box-shadow: inset 0 -1px 0 #959da5;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
	margin-top: 24px;
	margin-bottom: 16px;
	font-weight: 600;
	line-height: 1.25;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
	color: #1b1f23;
	vertical-align: middle;
	visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
	text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
	visibility: visible;
}

.markdown-body h1 {
	padding-bottom: 0.3em;
	font-size: 2em;
	border-bottom: 1px solid #eaecef;
}

.markdown-body h2 {
	padding-bottom: 0.3em;
	font-size: 1.5em;
	border-bottom: 1px solid #eaecef;
}

.markdown-body h3 {
	font-size: 1.25em;
}

.markdown-body h4 {
	font-size: 1em;
}

.markdown-body h5 {
	font-size: 0.875em;
}

.markdown-body h6 {
	font-size: 0.85em;
	color: #6a737d;
}

.markdown-body ul,
.markdown-body ol {
	padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
	margin-top: 0;
	margin-bottom: 0;
}

.markdown-body li {
	word-wrap: break-all;
}

.markdown-body li>p {
	margin-top: 16px;
}

.markdown-body li+li {
	margin-top: 0.25em;
}

.markdown-body dl {
	padding: 0;
}

.markdown-body dl dt {
	padding: 0;
	margin-top: 16px;
	font-size: 1em;
	font-style: italic;
	font-weight: 600;
}

.markdown-body dl dd {
	padding: 0 16px;
	margin-bottom: 16px;
}

.markdown-body table {
	display: block;
	width: 100%;
	overflow: auto;
}

.markdown-body table th {
	font-weight: 600;
}

.markdown-body table th,
.markdown-body table td {
	padding: 6px 13px;
	border: 1px solid #dfe2e5;
}

.markdown-body table tr {
	background-color: #fff;
	border-top: 1px solid #c6cbd1;
}

.markdown-body table tr:nth-child(2n) {
	background-color: #f6f8fa;
}

.markdown-body img {
	max-width: 100%;
	box-sizing: content-box;
	background-color: #fff;
}

.markdown-body img[align=right] {
	padding-left: 20px;
}

.markdown-body img[align=left] {
	padding-right: 20px;
}

.markdown-body code {
	padding: 0.2em 0.4em;
	margin: 0;
	font-size: 85%;
	background-color: rgba(27,31,35,0.05);
	border-radius: 3px;
}

.markdown-body pre {
	word-wrap: normal;
}

.markdown-body pre>code {
	padding: 0;
	margin: 0;
	font-size: 100%;
	word-break: normal;
	white-space: pre;
	background: transparent;
	border: 0;
}

.markdown-body .highlight {
	margin-bottom: 16px;
}

.markdown-body .highlight pre {
	margin-bottom: 0;
	word-break: normal;
}

.markdown-body .highlight pre,
.markdown-body pre {
	padding: 16px;
	overflow: auto;
	font-size: 85%;
	line-height: 1.45;
	background-color: #f6f8fa;
	border-radius: 3px;
}

.markdown-body pre code {
	display: inline;
	max-width: auto;
	padding: 0;
	margin: 0;
	overflow: visible;
	line-height: inherit;
	word-wrap: normal;
	background-color: transparent;
	border: 0;
}

.markdown-body .full-commit .btn-outline:not(:disabled):hover {
	color: #005cc5;
	border-color: #005cc5;
}

.markdown-body kbd {
	display: inline-block;
	padding: 3px 5px;
	font: 11px "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
	line-height: 10px;
	color: #444d56;
	vertical-align: middle;
	background-color: #fafbfc;
	border: solid 1px #d1d5da;
	border-bottom-color: #c6cbd1;
	border-radius: 3px;
	box-shadow: inset 0 -1px 0 #c6cbd1;
}

.markdown-body :checked+.radio-label {
	position: relative;
	z-index: 1;
	border-color: #0366d6;
}

.markdown-body .task-list-item {
	list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
	margin-top: 3px;
}

.markdown-body .task-list-item input {
	margin: 0 0.2em 0.25em -1.6em;
	vertical-align: middle;
}

.markdown-body hr {
	border-bottom-color: #eee;
}

</style>
<style>
ol {
    display: block;
    list-style-type: decimal;
}
.pagebreak { page-break-before: always; }
.half { height: 200px; }
</style>

<div class="markdown-body">

<h1>Lecture 12 - Trace of A Maria Program or Two</h1>

<h2>C Code and Operators (This also applies to C++)</h2>

<p>These work in C, C++, Java, JavaScript (node).</p>

<h3>Arithmetic Shift Left</h3>

<p>ex1.c:</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    int x;
    x = 1;
    x = x &lt;&lt; 1;        /* Same as multipy by 2 */
    printf ( &quot;%d\n&quot;, x );
}
</code></pre>

<h3>Arithmetic Shift Right</h3>

<p>ex2.c:</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    int x;
    x = 15;
    x = x &gt;&gt; 1;        /* Same as devide by 2 */
    printf ( &quot;%d\n&quot;, x );
}
</code></pre>

<h3>Get a specific BIT using and</h3>

<p>ex3.c</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    int x;
    x = 0x12;                    /* Hex value */
    x = x &amp; 0x10;                /* Pick out just 1 bit */
    printf ( &quot;0x%x (Expect 0x10)\n&quot;, x );    /* Print in Hex */
    x = 0x402;                    /* Hex value */
    x = x &amp; 0x10;                /* Pick out just 1 bit */
    printf ( &quot;0x%x (Expect 0x0)\n&quot;, x );    /* Print in Hex */
}

</code></pre>

<p>Formatted a little better.</p>

<p>ex4.c:</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    int x;
    x = 0x12;                    /* Hex value */
    x = x &amp; 0x10;                /* Pick out just 1 bit */
    printf ( &quot;0x%04x (Expect 0x0010)\n&quot;, x );    /* Print in Hex */
    x = 0x402;                    /* Hex value */
    x = x &amp; 0x10;                /* Pick out just 1 bit */
    printf ( &quot;0x%04x (Expect 0x0000)\n&quot;, x );    /* Print in Hex */
}
</code></pre>

<h2>Get a bit and shift it to least significant postion</h2>

<p>ex5.c:</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    int x;
    x = 0xE023;                    /* Hex value */
    x = x &amp; 0xF000;                /* Pick out just 4 bit */
    x = x &gt;&gt; 12;                /* Shift it over */
    printf ( &quot;0x%04x (Expect 0x000E)\n&quot;, x );    /* Print in Hex */
}
</code></pre>

<h2>Set some bits in a value</h2>

<p>ex6.c:</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    int x;
    x = 0xE023;                    /* Hex value */
    x = x | 0x0100;                /* Set a single bit */
    printf ( &quot;0x%04x (Expect 0xE123)\n&quot;, x );    /* Print in Hex */
}
</code></pre>

<h2>Toggle some bits in a value (Use XOR)</h2>

<p>ex8.c:</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    int x;
    x = 0x23;                    /* Hex value */
    x = x ^ 0xF0;                /* Toggle with XOR */
    printf ( &quot;0x%02x (Expect 0xD3)\n&quot;, x );    /* Print in Hex */
}
</code></pre>

<h2>Split up IR value into the OP and the HAND.</h2>

<p>ex7.c:</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    int x, op, hand;
    x = 0x4022;                    /* Add instruction from address 22 hex */
    op = x &amp; 0xF000;
    op &gt;&gt;= 12;                    /* a &gt;&gt;= b  same as a = a &gt;&gt; b */
    hand = x &amp; 0xFFF;
    printf ( &quot;Op = 0x%x, hand = 0x%03x \n&quot;, op, hand );    
}
</code></pre>

<h2>Compliment 1s</h2>

<p>ex9.c:</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    unsigned int x;            /* Note &quot;unsigned&quot; int */
    x = 0x23;                    /* Hex value */
    x = ~x;                        /* Get the 1s Compliment */
    x &amp;= 0xFFFF;                /* Limit us to 16 bit value */
    printf ( &quot;0x%04x (Expect 0xFFDC)\n&quot;, x );    /* Print in Hex */
}
</code></pre>

<h2>Find size of values in C</h2>

<p>exA.c:</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    unsigned int x1;    
    int x2;            
    unsigned short x3;            
    short x4;            
    unsigned long int x5;    
    long int x6;

    printf ( &quot;unsigned int   - sizeof %ld\n&quot;, sizeof(x1) );
    printf ( &quot;         int   - sizeof %ld\n&quot;, sizeof(x2) );
    printf ( &quot;unsigned short - sizeof %ld\n&quot;, sizeof(x3) );
    printf ( &quot;         short - sizeof %ld\n&quot;, sizeof(x4) );
    printf ( &quot;unsigned long  - sizeof %ld\n&quot;, sizeof(x5) );
    printf ( &quot;         long  - sizeof %ld\n&quot;, sizeof(x6) );
}
</code></pre>

<h2>Shift and Negative Values</h2>

<p>Signed Values</p>

<p>exB.c:</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    int x;        
    x = -10;        
    printf ( &quot;0x%08x (Expect 0xFFF*6)\n&quot;, x );    /* Print in Hex */
    x &gt;&gt;= 1;
    printf ( &quot;0x%04x (Expect 0xFFF*b)\n&quot;, x );    /* Print in Hex */
    printf ( &quot;%d     (Expect -5)\n&quot;, x );    
}
</code></pre>

<p>Unsigned makes <code>&gt;&gt;</code> a logical shit instead of an arithmetic shift.</p>

<p>exC.c:</p>

<pre><code>#include &lt;stdio.h&gt;

int main() {
    unsigned int x;        
    x = 0xfffffff6;
    x &gt;&gt;= 1;
    printf ( &quot;0x%04x (Expect 0x7ffffffb)\n&quot;, x );    /* Print in Hex */
    printf ( &quot;%d     (Expect 2147483643)\n&quot;, x );    /* Print in Hex */
}
</code></pre>

<h2>Assembler Pseudo-Directives</h2>

<pre><code>
ORG

DEC

HEX

OCT

</code></pre>

<p>hw2.mas as HEX directives:</p>

<pre><code>    HEX d014
    HEX 6000
    HEX 1014
    HEX 3015
    HEX 2014
    HEX d014
    HEX 8800
    HEX 9000
    HEX 7000
    HEX 0000
    HEX 0000
    HEX 0000
    HEX 0000
    HEX 0000
    HEX 0000
    HEX 0000
    HEX 0000
    HEX 0000
    HEX 0000
    HEX 0000
    HEX 0016
    HEX 0001
    HEX 0048
    HEX 0049
    HEX 0050
    HEX 0051
    HEX 5ab2
    HEX aaaa
    HEX 0054
    HEX 0055
    HEX 0056
    HEX 0000

</code></pre>

<p>or in a more human readable format:</p>

<pre><code>L1,     LoadI    X
        Output
        Load     X
        Add      _1
        Store    X
        LoadI    X
        SkipGt0            / OnLine use Skipins 0x400 - same instruction just different human representation.
        Jump L1
        Halt
        ORG  20
X,      DEC  22             / Counter of how many characters to output.
_1,     DEC  1
hw,     HEX  48            / 'H' Your values (clue: 48 is not correct for homework-02!)
    HEX 49                    / 'I'
    HEX 50                    / 'P'
    HEX 51
    HEX 5aB2
    HEX aaaa
    HEX 54
    HEX 55
    HEX 56
    HEX 0

</code></pre>

<h2>Computed GoTo</h2>

<p>Reading: <a href="https://eli.thegreenplace.net/2012/07/12/computed-goto-for-efficient-dispatch-tables">https://eli.thegreenplace.net/2012/07/12/computed-goto-for-efficient-dispatch-tables</a>.</p>

<p>exD.c:</p>

<pre><code>#include &lt;stdio.h&gt;

#define OP_LOAD     0x1
#define OP_ADD      0x3
#define OP_HALT     0x7

void runVM(unsigned int* mem) {
    unsigned int PC = 0;
    unsigned int IR = 0;
    unsigned int AC = 0;
    unsigned int op, hand; 

    while (1) {        // Loop Forever
        IR = mem[PC++];
        op = ( IR &amp; 0xF000 ) &gt;&gt; 12;
        hand = IR &amp; 0x0FFF;
        switch (IR) {
            case OP_LOAD:
                AC = mem[hand];
            break;
            case OP_ADD:
                AC = AC + mem[hand];
            break;
            case OP_HALT:
                return;
            default:
                printf ( &quot;oops - an error 0x%04x not valid\n&quot;, IR &lt;&lt; 12);
        }
    }
}

void runVM_ComputedGoTo(unsigned int* mem) {
    /* The indices of labels in the dispatch_table are the relevant opcodes */
    static void* dispatch_table[] = {
        &amp;&amp;do_other,       /* 0 */
        &amp;&amp;do_load,        /* 1 */
        &amp;&amp;do_other,       /* 2 */
        &amp;&amp;do_add,         /* 3 */
        &amp;&amp;do_other,       /* 4 */
        &amp;&amp;do_other,       /* 5 */
        &amp;&amp;do_other,       /* 6 */
        &amp;&amp;do_halt,        /* 7 */
        &amp;&amp;do_other,       /* 8 */
        &amp;&amp;do_other,       /* 9 */
        &amp;&amp;do_other,       /* A */
        &amp;&amp;do_other,       /* B */
        &amp;&amp;do_other,       /* C */
        &amp;&amp;do_other,       /* D */
        &amp;&amp;do_other,       /* E */
        &amp;&amp;do_other,       /* F */
    };
    unsigned int PC = 0;
    unsigned int IR = 0;
    unsigned int AC = 0;
    unsigned int op, hand; 


top:
    IR = mem[PC++]; 
    op = ( IR &amp; 0xF000 ) &gt;&gt; 12; 
    hand = IR &amp; 0x0FFF; 
    goto *dispatch_table[op];

    do_halt:
        return;
    do_add:
        AC = AC + mem[hand];
        goto top;
    do_load:
        AC = mem[hand];
        goto top;
    do_other:
        printf ( &quot;oops - an error 0x%04x not valid\n&quot;, IR &lt;&lt; 12);
        goto top;
}

int main() {
    // Placeholder for the moment
}
</code></pre>

<h1>Copyright</h1>

<p>Copyright &copy; University of Wyoming, 2020.</p>

</div>

